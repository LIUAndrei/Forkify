function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},a=n.parcelRequire3a11;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},n.parcelRequire3a11=a),a.register("27Lyk",(function(t,n){var r,i;e(t.exports,"register",(()=>r),(e=>r=e)),e(t.exports,"resolve",(()=>i),(e=>i=e));var a={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},i=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a("27Lyk").register(JSON.parse('{"f9fpV":"index.0900fc83.js","eyyUD":"icons.c14567a0.svg"}'));var s=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof _?t:_,s=Object.create(a.prototype),o=new P(r||[]);return i(s,"_invoke",{value:L(e,n,o)}),s}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var h="suspendedStart",f="suspendedYield",p="executing",g="completed",v={};function _(){}function m(){}function y(){}var w={};u(w,s,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(j([])));k&&k!==n&&r.call(k,s)&&(w=k);var E=y.prototype=_.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function $(e,t){function n(i,a,s,o){var c=l(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,o)}))}o(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function L(e,t,n){var r=h;return function(i,a){if(r===p)throw new Error("Generator is already running");if(r===g){if("throw"===i)throw a;return O()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var o=x(s,n);if(o){if(o===v)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?g:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=g,n.method="throw",n.arg=c.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=l(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var s=a.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function j(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:O}}function O(){return{value:t,done:!0}}return m.prototype=y,i(E,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:m,configurable:!0}),m.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},N($.prototype),u($.prototype,o,(function(){return this})),e.AsyncIterator=$,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var s=new $(d(t,n,r,i),a);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},N(E),u(E,c,"Generator"),u(E,s,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return o.type="throw",o.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}({});try{regeneratorRuntime=s}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}const o="https://forkify-api.herokuapp.com/api/v2/recipes",c="a8d5496b-3d85-4d0f-b074-a2ef3a08387a",u=function(e){return new Promise((function(t,n){setTimeout((function(){n(new Error(`Request took too long! Timeout after ${e} second`))}),1e3*e)}))},d=async function(e){try{const t=await Promise.race([fetch(e),u(10)]),n=await t.json();if(!t.ok)throw new Error(`${n.message}`);return n}catch(e){throw e}},l=async function(e,t){try{const n=fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await Promise.race([n,u(10)]),i=await r.json();if(!r.ok)throw new Error(`${i.message}`);return i}catch(e){throw e}},h={bookmarks:[],recipe:{},search:{page:1,query:"",results:[],resultsPerPage:10}},f=function(e){const{recipe:t}=e.data;return{id:t.id,cookingTime:t.cooking_time,imageUrl:t.image_url,ingredients:t.ingredients,publisher:t.publisher,servings:t.servings,sourceUrl:t.source_url,title:t.title,...t.key&&{key:t.key}}},p=function(e=h.search.page){h.search.page=e;const t=(e-1)*h.search.resultsPerPage,n=t+h.search.resultsPerPage;return h.search.results.slice(t,n)},g=function(){localStorage.setItem("bookmarks",JSON.stringify(h.bookmarks))},v=function(e){h.bookmarks.push(e),e.id===h.recipe.id&&(h.recipe.bookmarked=!0),g()};!function(){const e=localStorage.getItem("bookmarks");e&&(h.bookmarks=JSON.parse(e))}();const _=async function(e){try{console.log(e);const t=Object.entries(e).filter((e=>e[0].startsWith("ingredient")&&""!==e[1])).map((e=>{const t=e[1].split(",").map((e=>e.trim()));if(3!==t.length)throw new Error("Wrong ingredient format. Please separate quantity, units and description with commas.");const[n,r,i]=t;return{quantity:n?+n:null,unit:r,description:i}})),n={title:e.title,source_url:e.sourceUrl,image_url:e.image,publisher:e.publisher,cooking_time:+e.cookingTime,servings:+e.servings,ingredients:t};console.log(n);const r=await l(`${o}?key=${c}`,n);h.recipe=f(r),v(h.recipe)}catch(e){throw e}};var m;m=new URL(a("27Lyk").resolve("eyyUD"),import.meta.url).toString();class y{_data;render(e,t=!0){if(!e||Array.isArray(e)&&0===e.length)return this.renderError();this._data=e;const n=this._generateMarkup();if(!t)return n;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",n)}update(e){this._data=e;const t=this._generateMarkup(),n=document.createRange().createContextualFragment(t),r=Array.from(n.querySelectorAll("*")),i=Array.from(this._parentElement.querySelectorAll("*"));r.forEach(((e,t)=>{const n=i[t];e.isEqualNode(n)||""===e.firstChild?.nodeValue.trim()||(n.textContent=e.textContent),e.isEqualNode(n)||Array.from(e.attributes).forEach((e=>n.setAttribute(e.name,e.value)))}))}_clear(){this._parentElement.innerHTML=""}renderSpinner(){const e=`\n      <div class="spinner">\n            <svg>\n              <use href="${t(m)}#icon-loader"></use>\n            </svg>\n      </div>\n    `;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",e)}renderError(e){const n=`\n      <div class="error">\n        <div>\n          <svg>\n            <use href="${t(m)}#icon-alert-triangle"></use>\n          </svg>\n        </div>\n        <p>${this._errorMessage} ${e}</p>\n      </div>`;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",n)}renderMessage(e=this._message){const n=`\n    <div class="recipe">\n    <div class="message">\n      <div>\n        <svg>\n          <use href="${t(m)}#icon-smile"></use>\n        </svg>\n      </div>\n      <p>${e}</p>\n    </div>`;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",n)}}var w={};
/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/!function(e){var t=2e3,n={s:1,n:0,d:1};function r(e,t){if(isNaN(e=parseInt(e,10)))throw c.InvalidParameter;return e*t}function i(e,t){if(0===t)throw c.DivisionByZero;var n=Object.create(c.prototype);n.s=e<0?-1:1;var r=o(e=e<0?-e:e,t);return n.n=e/r,n.d=t/r,n}function a(e){for(var t={},n=e,r=2,i=4;i<=n;){for(;n%r==0;)n/=r,t[r]=(t[r]||0)+1;i+=1+2*r++}return n!==e?n>1&&(t[n]=(t[n]||0)+1):t[e]=(t[e]||0)+1,t}var s=function(e,t){var i,a=0,s=1,o=1,u=0,d=0,l=0,h=1,f=1,p=0,g=1,v=1,_=1,m=1e7;if(null==e);else if(void 0!==t){if(o=(a=e)*(s=t),a%1!=0||s%1!=0)throw c.NonIntegerParameter}else switch(typeof e){case"object":if("d"in e&&"n"in e)a=e.n,s=e.d,"s"in e&&(a*=e.s);else{if(!(0 in e))throw c.InvalidParameter;a=e[0],1 in e&&(s=e[1])}o=a*s;break;case"number":if(e<0&&(o=e,e=-e),e%1==0)a=e;else if(e>0){for(e>=1&&(e/=f=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));g<=m&&_<=m;){if(e===(i=(p+v)/(g+_))){g+_<=m?(a=p+v,s=g+_):_>g?(a=v,s=_):(a=p,s=g);break}e>i?(p+=v,g+=_):(v+=p,_+=g),g>m?(a=v,s=_):(a=p,s=g)}a*=f}else(isNaN(e)||isNaN(t))&&(s=a=NaN);break;case"string":if(null===(g=e.match(/\d+|./g)))throw c.InvalidParameter;if("-"===g[p]?(o=-1,p++):"+"===g[p]&&p++,g.length===p+1?d=r(g[p++],o):"."===g[p+1]||"."===g[p]?("."!==g[p]&&(u=r(g[p++],o)),(++p+1===g.length||"("===g[p+1]&&")"===g[p+3]||"'"===g[p+1]&&"'"===g[p+3])&&(d=r(g[p],o),h=Math.pow(10,g[p].length),p++),("("===g[p]&&")"===g[p+2]||"'"===g[p]&&"'"===g[p+2])&&(l=r(g[p+1],o),f=Math.pow(10,g[p+1].length)-1,p+=3)):"/"===g[p+1]||":"===g[p+1]?(d=r(g[p],o),h=r(g[p+2],1),p+=3):"/"===g[p+3]&&" "===g[p+1]&&(u=r(g[p],o),d=r(g[p+2],o),h=r(g[p+4],1),p+=5),g.length<=p){o=a=l+(s=h*f)*u+f*d;break}default:throw c.InvalidParameter}if(0===s)throw c.DivisionByZero;n.s=o<0?-1:1,n.n=Math.abs(a),n.d=Math.abs(s)};function o(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function c(e,t){if(s(e,t),!(this instanceof c))return i(n.s*n.n,n.d);e=o(n.d,n.n),this.s=n.s,this.n=n.n/e,this.d=n.d/e}c.DivisionByZero=new Error("Division by Zero"),c.InvalidParameter=new Error("Invalid argument"),c.NonIntegerParameter=new Error("Parameters must be integer"),c.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(e,t){return s(e,t),i(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(e,t){return s(e,t),i(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(e,t){return s(e,t),i(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(e,t){return s(e,t),i(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(e,t){if(isNaN(this.n)||isNaN(this.d))return new c(NaN);if(void 0===e)return i(this.s*this.n%this.d,1);if(s(e,t),0===n.n&&0===this.d)throw c.DivisionByZero;return i(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d)},gcd:function(e,t){return s(e,t),i(o(n.n,this.n)*o(n.d,this.d),n.d*this.d)},lcm:function(e,t){return s(e,t),0===n.n&&0===this.n?i(0,1):i(n.n*this.n,o(n.n,this.n)*o(n.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):i(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):i(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):i(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(e,t){if(s(e,t),1===n.d)return n.s<0?i(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):i(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var r=a(this.n),o=a(this.d),c=1,u=1;for(var d in r)if("1"!==d){if("0"===d){c=0;break}if(r[d]*=n.n,r[d]%n.d!=0)return null;r[d]/=n.d,c*=Math.pow(d,r[d])}for(var d in o)if("1"!==d){if(o[d]*=n.n,o[d]%n.d!=0)return null;o[d]/=n.d,u*=Math.pow(d,o[d])}return n.s<0?i(u,c):i(c,u)},equals:function(e,t){return s(e,t),this.s*this.n*n.d==n.s*n.n*this.d},compare:function(e,t){s(e,t);var r=this.s*this.n*n.d-n.s*n.n*this.d;return(0<r)-(r<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;e=e||.001;for(var t=this.abs(),n=t.toContinued(),r=1;r<n.length;r++){for(var a=i(n[r-1],1),s=r-2;s>=0;s--)a=a.inverse().add(n[s]);if(a.sub(t).abs().valueOf()<e)return a.mul(this.s)}return this},divisible:function(e,t){return s(e,t),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var e,t=this.n,n=this.d,r=[];if(isNaN(t)||isNaN(n))return r;do{r.push(Math.floor(t/n)),e=t%n,t=n,n=e}while(1!==t);return r},toString:function(e){var n=this.n,r=this.d;if(isNaN(n)||isNaN(r))return"NaN";e=e||15;var i=function(e,n){for(;n%2==0;n/=2);for(;n%5==0;n/=5);if(1===n)return 0;for(var r=10%n,i=1;1!==r;i++)if(r=10*r%n,i>t)return 0;return i}(0,r),a=function(e,t,n){for(var r=1,i=function(e,t,n){for(var r=1;t>0;e=e*e%n,t>>=1)1&t&&(r=r*e%n);return r}(10,n,t),a=0;a<300;a++){if(r===i)return a;r=10*r%t,i=10*i%t}return 0}(0,r,i),s=this.s<0?"-":"";if(s+=n/r|0,n%=r,(n*=10)&&(s+="."),i){for(var o=a;o--;)s+=n/r|0,n%=r,n*=10;s+="(";for(o=i;o--;)s+=n/r|0,n%=r,n*=10;s+=")"}else for(o=e;n&&o--;)s+=n/r|0,n%=r,n*=10;return s}},"function"==typeof define&&define.amd?define([],(function(){return c})):(Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Fraction=c,w=c)}();var b=new class extends y{_parentElement=document.querySelector(".recipe");_message="";_errorMessage="This recipe was not found. Please try another one or check the recipe ID.";addHandlerRender(e){["hashchange","load"].forEach((t=>window.addEventListener(t,e)))}addHandlerUpdateServings(e){this._parentElement.addEventListener("click",(function(t){const n=t.target.closest(".btn--update-servings");if(!n)return;const{updateServingsTo:r}=n.dataset;r>0&&e(r)}))}addHandlerAddBookmark(e){this._parentElement.addEventListener("click",(function(t){t.target.closest(".btn--bookmark")&&(console.log("click"),e())}))}_generateMarkup(){return`\n    <figure class="recipe__fig">\n          <img src="${this._data.imageUrl}" alt="${this._data.title}" class="recipe__img" />\n          <h1 class="recipe__title">\n            <span>${this._data.title}</span>\n          </h1>\n        </figure>\n\n        <div class="recipe__details">\n          <div class="recipe__info">\n            <svg class="recipe__info-icon">\n              <use href="${t(m)}#icon-clock"></use>\n            </svg>\n            <span class="recipe__info-data recipe__info-data--minutes">${this._data.cookingTime}</span>\n            <span class="recipe__info-text">minutes</span>\n          </div>\n          <div class="recipe__info">\n            <svg class="recipe__info-icon">\n              <use href="${t(m)}#icon-users"></use>\n            </svg>\n            <span class="recipe__info-data recipe__info-data--people">${this._data.servings}</span>\n            <span class="recipe__info-text">servings</span>\n\n            <div class="recipe__info-buttons">\n              <button data-update-servings-to="${+this._data.servings-1}" class="btn--tiny btn--update-servings" >\n                <svg>\n                  <use href="${t(m)}#icon-minus-circle"></use>\n                </svg>\n              </button>\n              <button data-update-servings-to="${+this._data.servings+1}" class="btn--tiny btn--update-servings" >\n                <svg>\n                  <use href="${t(m)}#icon-plus-circle"></use>\n                </svg>\n              </button>\n            </div>\n          </div>\n          <div class="recipe__user-generated ${this._data.key?"":"hidden"}">\n            <svg>\n              <use href="${t(m)}#icon-user"></use>\n            </svg>\n          </div>\n          <button class="btn--round btn--bookmark">\n            <svg class="">\n              <use href="${t(m)}#icon-bookmark${this._data.bookmarked?"-fill":""}"></use>\n            </svg>\n          </button>\n        </div>\n\n        <div class="recipe__ingredients">\n          <h2 class="heading--2">Recipe ingredients</h2>\n          <ul class="recipe__ingredient-list">\n          ${this._data.ingredients.map(this._generateMarkupIngredient).join("")}\n\n\n   \n          </ul>\n        </div>\n\n        <div class="recipe__directions">\n          <h2 class="heading--2">How to cook it</h2>\n          <p class="recipe__directions-text">\n            This recipe was carefully designed and tested by\n            <span class="recipe__publisher">${this._data.publisher}</span>. Please check out\n            directions at their website.\n          </p>\n          <a\n            class="btn--small recipe__btn"\n            href="${this._data.sourceUrl}"\n            target="_blank"\n          >\n            <span>Directions</span>\n            <svg class="search__icon">\n              <use href="${t(m)}#icon-arrow-right"></use>\n            </svg>\n          </a>\n        </div>\n    `}_generateMarkupIngredient(e){return`\n  <li class="recipe__ingredient">\n    <svg class="recipe__icon">\n      <use href="${t(m)}#icon-check"></use>\n    </svg>\n    <div class="recipe__quantity">${e.quantity?new(0,w.Fraction)(e.quantity).toFraction(!0).toString():""}</div>\n    <div class="recipe__description">\n      <span class="recipe__unit">${e.unit}</span>\n      ${e.description}\n    </div>\n  </li>\n`}};var k=new class{_parentElement=document.querySelector(".search");getQuerry(){const e=this._parentElement.querySelector(".search__field").value;return this._clearInput(),e}_clearInput(){this._parentElement.querySelector(".search__field").value=""}addHandlerSearch(e){this._parentElement.addEventListener("submit",(function(t){t.preventDefault(),e()}))}};var E=new class extends y{_parentElement="";_generateMarkup(){const e=window.location.hash.slice(1);return`\n      <li class="preview">\n           <a class="preview__link ${this._data.id===e?"preview__link--active":""}" href="#${this._data.id}">\n               <figure class="preview__fig">\n               <img src="${this._data.imageUrl}" alt="${this._data.title}" />\n               </figure>\n               <div class="preview__data">\n               <h4 class="preview__title">${this._data.title}</h4>\n               <p class="preview__publisher">${this._data.publisher}</p>\n                <div class="preview__user-generated ${this._data.key?"":"hidden"}">\n                  <svg>\n                    <use href="${t(m)}#icon-user"></use>\n                  </svg>\n                </div>\n              </div>\n           </a>\n       </li>\n      `}};var N=new class extends y{_parentElement=document.querySelector(".results");_message="";_errorMessage="Nothing was found. Please try another query.";_generateMarkup(){return this._data.map((e=>E.render(e,!1))).join("")}};var $=new class extends y{_parentElement=document.querySelector(".bookmarks__list");_message="";_errorMessage="No bookmarks yet. Find a nice recipe and bookmark it :)";addHandlerRender(e){window.addEventListener("load",e)}_generateMarkup(){return this._data.map((e=>E.render(e,!1))).join("")}};var L=new class extends y{_parentElement=document.querySelector(".pagination");addHandlerClick(e){this._parentElement.addEventListener("click",(function(t){const n=t.target.closest(".btn--inline");n&&(n.classList.contains("pagination__btn--next")&&e(+n.dataset.currentPage+1),n.classList.contains("pagination__btn--prev")&&e(+n.dataset.currentPage-1))}))}_generateMarkup(){const e=this._data.page,n=Math.ceil(this._data.results.length/this._data.resultsPerPage);return 1===e&&n>1?`\n      <button data-current-page="${e}" class="btn--inline pagination__btn--next">\n      <span>Page ${e+1}</span>\n      <svg class="search__icon">\n          <use href="${t(m)}#icon-arrow-right"></use>\n      </svg>\n      </button>`:e===n&&n>1?`\n      <button data-current-page="${e}" class="btn--inline pagination__btn--prev">\n      <svg class="search__icon">\n          <use href="${t(m)}#icon-arrow-left"></use>\n      </svg>\n      <span>Page ${e-1}</span>\n      </button>`:e>1&&e<n?`\n        <button data-current-page="${e}" class="btn--inline pagination__btn--prev">\n        <svg class="search__icon">\n            <use href="${t(m)}#icon-arrow-left"></use>\n        </svg>\n        <span>Page ${e-1}</span>\n        </button>\n        <button data-current-page="${e}" class="btn--inline pagination__btn--next">\n        <span>Page ${e+1}</span>\n        <svg class="search__icon">\n            <use href="${t(m)}#icon-arrow-right"></use>\n        </svg>\n        </button>\n    \n    `:""}};var x=new class extends y{_parentElement=document.querySelector(".upload");_window=document.querySelector(".add-recipe-window");_overlay=document.querySelector(".overlay");_btnOpen=document.querySelector(".nav__btn--add-recipe");_btnClose=document.querySelector(".btn--close-modal");constructor(){super(),this._addHandlerShowWindow(),this._addHandlerHideWindow()}toggleWindow(){this._overlay.classList.toggle("hidden"),this._window.classList.toggle("hidden")}_addHandlerShowWindow(){this._btnOpen.addEventListener("click",this.toggleWindow.bind(this))}_addHandlerHideWindow(){this._btnClose.addEventListener("click",this.toggleWindow.bind(this)),this._overlay.addEventListener("click",this.toggleWindow.bind(this))}addHandlerUpload(e){this._parentElement.addEventListener("submit",(function(t){t.preventDefault();const n=[...new FormData(this)],r=Object.fromEntries(n);e(r)}))}_generateMarkup(){}};const M=async function(){try{const e=window.location.hash.slice(1);if(!e)return;N.update(p()),$.update(h.bookmarks),b.renderSpinner(),await async function(e){try{const t=await d(`${o}/${e}?key=${c}`);h.recipe=f(t),h.bookmarks.some((t=>t.id===e))?h.recipe.bookmarked=!0:h.recipe.bookmarked=!1,console.log(this)}catch(e){throw e}}(e),b.render(h.recipe)}catch(e){b.renderError(`${e}`)}},S=async function(){try{N.renderSpinner();const e=k.getQuerry();if(!e)return;await async function(e){try{h.search.query=e,h.search.page=1;const t=await d(`${o}?search=${e}&key=${c}`);h.search.results=t.data.recipes.map((e=>({id:e.id,imageUrl:e.image_url,publisher:e.publisher,title:e.title,...e.key&&{key:e.key}})))}catch(e){throw e}}(e),N.render(p()),L.render(h.search)}catch(e){b.renderError(`${e}`)}},P=function(e){N.render(p(e)),L.render(h.search)},j=function(e){!function(e){h.recipe.ingredients.forEach((t=>{t.quantity=t.quantity*e/h.recipe.servings})),h.recipe.servings=e}(e),b.update(h.recipe)},O=function(){h.recipe.bookmarked?h.recipe.bookmarked&&function(e){const t=h.bookmarks.findIndex((t=>t.id===e));h.bookmarks.splice(t,1),e===h.recipe.id&&(h.recipe.bookmarked=!1),g()}(h.recipe.id):v(h.recipe),b.update(h.recipe),$.render(h.bookmarks)},q=function(){$.render(h.bookmarks)},H=async function(e){try{x.renderSpinner(),await _(e),console.log(h.recipe),b.render(h.recipe),x.renderMessage("Recipe was successfully uploaded"),$.render(h.bookmarks),window.history.pushState(null,"",`#${h.recipe.id}`),setTimeout((function(){x.toggleWindow()}),2500)}catch(e){console.log(`ðŸ¤£ ${e.message}`),x.renderError(e.message)}};$.addHandlerRender(q),b.addHandlerAddBookmark(O),b.addHandlerRender(M),b.addHandlerUpdateServings(j),k.addHandlerSearch(S),L.addHandlerClick(P),x.addHandlerUpload(H);
//# sourceMappingURL=index.0900fc83.js.map
